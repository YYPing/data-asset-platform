# 数据资产全生命周期管理平台 — 设计文档

> 日期：2026-02-13
> 状态：已确认

## 1. 项目概述

覆盖全市的数据资产管理平台，支持政府数据资产登记试点方案。符合《企业数据资源相关会计处理暂行规定》、《数据安全法》、《个人信息保护法》等法规要求，实现数据资产从梳理到运营的全生命周期管理。

### 项目目标
- 数据持有方自主管理数据资产
- 登记中心监控全市数据资产情况
- 第三方评估机构参与评估工作
- 8阶段全生命周期管理 + 年度更新循环
- 全流程材料保存和防篡改（SHA-256哈希存证）
- 双大屏展示（全市监管 + 持有方）
- 满足等保三级安全要求

## 2. 技术栈

| 层 | 技术 |
|----|------|
| 前端 | React + Vite + Ant Design |
| 后端 | Python + FastAPI |
| 数据库 | PostgreSQL |
| ORM | SQLAlchemy |
| 认证 | JWT + RBAC |
| 文件存储 | 本地/MinIO |
| 容器化 | Docker Compose |

## 3. 架构

```
┌──────────────────────────────────────────────────┐
│                   前端 (React)                     │
│  ├─ 数据持有方工作台 + 持有方大屏                    │
│  ├─ 登记中心监管台 + 全市监管大屏                    │
│  ├─ 评估机构工作台                                  │
│  ├─ 合规人员工作台                                  │
│  ├─ 行业监管部门（只读）                             │
│  └─ 系统管理后台                                    │
├──────────────────────────────────────────────────┤
│                  API层 (FastAPI)                    │
│  ├─ 认证鉴权 (JWT + RBAC)                          │
│  ├─ 资产生命周期引擎 (8阶段状态机)                   │
│  ├─ 材料管理 (上传/版本控制/SHA-256存证)             │
│  ├─ 审批流引擎                                      │
│  ├─ 统计分析引擎                                    │
│  └─ 审计日志（不可删除/不可修改）                     │
├──────────────────────────────────────────────────┤
│                数据层 (PostgreSQL)                   │
│  ├─ 用户/组织/角色                                  │
│  ├─ 资产台账                                       │
│  ├─ 阶段记录 & 材料 & 哈希存证                      │
│  ├─ 审批记录                                       │
│  └─ 审计日志                                       │
└──────────────────────────────────────────────────┘
```

## 4. 角色权限体系 (RBAC)

| 角色 | 核心权限 |
|------|---------|
| 数据持有方 | 创建资产、上传材料、推进阶段、查看持有方大屏 |
| 登记中心 | 审批、监管、统计、查看全市监管大屏 |
| 评估机构 | 合规评估、价值评估、出具报告 |
| 合规人员 | 合规审查、出具合规意见 |
| 行业监管部门 | 只读监管、统计报表、查看全市监管大屏 |
| 系统管理员 | 用户管理、组织管理、系统配置、审计日志查看 |

## 5. 8阶段生命周期

```
1.数据资源梳理 → 2.数据资产梳理 → 3.数据使用场景报告
→ 4.合规评估报告 → 5.数据质量报告 → 6.入账指导意见
→ 7.数据价值评估 → 8.运营阶段 → (年度更新循环)
```

每个阶段：
- 预定义的输入材料要求和输出物模板
- 材料上传后自动计算 SHA-256 哈希存证
- 需审批通过才能进入下一阶段
- 支持退回和补充材料
- 运营阶段进入年度更新循环

## 6. 材料管理

- 文件上传 + 版本控制（每次上传保留历史版本）
- SHA-256 哈希存证（上传时自动计算，不可篡改）
- 每个阶段有预定义的材料清单
- 支持 PDF、Word、Excel、图片等格式

## 7. 双大屏设计

### 7.1 全市监管大屏
- 受众：登记中心、行业监管部门
- 全市资产总量
- 行业分布
- 阶段分布（各阶段资产数量）
- 月度/季度趋势
- 预警信息

### 7.2 持有方大屏
- 受众：数据持有方
- 数据资产盘点情况（资源/资产梳理概览）
- 资产数量统计
- 各阶段进度（8阶段推进情况）
- 资产估值与入账情况（估值金额、入账分类、无形资产/存货占比）
- 年度更新提醒

## 8. 核心数据模型

```
Organization (组织)
  ├─ 1:N User (用户)
  └─ 1:N DataAsset (数据资产)
        ├─ 1:N AssetStage (阶段记录)
        │     ├─ 1:N StageMaterial (阶段材料)
        │     │     └─ hash_value (SHA-256)
        │     └─ 1:N ApprovalRecord (审批记录)
        └─ 1:N AssetValuation (估值记录)

Role (角色) N:N User (用户) via UserRole
AuditLog (审计日志) — 全局，不可删除
```

## 9. 审计日志

- 记录所有操作（谁、什么时间、做了什么、操作对象）
- 不可删除、不可修改（只INSERT，无UPDATE/DELETE）
- 支持按时间/用户/操作类型/资产查询
- 满足等保三级审计要求

## 10. 项目结构

```
data-asset-platform/
├── frontend/              # React + Vite + Ant Design
│   ├── src/
│   │   ├── pages/         # 按功能模块组织
│   │   │   ├── dashboard/ # 持有方大屏
│   │   │   ├── monitor/   # 全市监管大屏
│   │   │   ├── asset/     # 资产管理
│   │   │   ├── material/  # 材料管理
│   │   │   ├── approval/  # 审批管理
│   │   │   ├── assess/    # 评估管理
│   │   │   ├── admin/     # 系统管理
│   │   │   └── auth/      # 登录认证
│   │   ├── components/    # 公共组件
│   │   ├── api/           # API调用
│   │   ├── store/         # 状态管理
│   │   └── utils/
│   └── package.json
├── backend/               # FastAPI
│   ├── app/
│   │   ├── models/        # SQLAlchemy ORM
│   │   ├── api/           # 路由
│   │   │   └── v1/
│   │   ├── services/      # 业务逻辑
│   │   ├── core/          # 认证、权限、配置
│   │   ├── engine/        # 生命周期状态机
│   │   └── utils/         # 哈希计算等工具
│   ├── alembic/           # 数据库迁移
│   └── requirements.txt
├── docker-compose.yml
├── init.sh
├── feature_list.json
├── claude-progress.txt
└── app_spec.txt
```
